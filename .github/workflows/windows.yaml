# Copyright 2020 The Chromium Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

# Use separate workflow for Windows so it can be disabled if needed.
# https://docs.github.com/en/free-pro-team@latest/actions/managing-workflow-runs/disabling-and-enabling-a-workflow
name: windows
on: [push, pull_request, workflow_dispatch]
permissions:
  contents: read
jobs:
  unit-tests:
    runs-on: windows-latest
    steps:
      - name: checkout
        uses: actions/checkout@ac593985615ec2ede58e132d2e21d2b1cbd6127c
      - name: setup java
        uses: actions/setup-java@3f07048e3d294f56e9b90ac5ea2c6f74e9ad0f98
        with:
          java-version: '11'
          java-package: jdk
      - name: windows UNIT_TEST_BOT
        run: ./tool/github.bat
        shell: cmd
